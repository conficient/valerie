<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[valerie]]></title>
  <link href="http://valerie.egrove.co.uk/atom.xml" rel="self"/>
  <link href="http://valerie.egrove.co.uk/"/>
  <updated>2013-07-06T23:15:25+01:00</updated>
  <id>http://valerie.egrove.co.uk/</id>
  <author>
    <name><![CDATA[egrove Ltd]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Simple Form (fluent) w/ Bootstrap]]></title>
    <link href="http://valerie.egrove.co.uk/blog/2013/07/05/code-sample/"/>
    <updated>2013-07-05T22:34:00+01:00</updated>
    <id>http://valerie.egrove.co.uk/blog/2013/07/05/code-sample</id>
    <content type="html"><![CDATA[<p>This code sample demonstrates <strong>valerie</strong> being used to validate a simple form.
Bootstrap is used to style the form.</p>

<h2>HTML</h2>

<div><script src='https://gist.github.com/10f486045f8d532d84fa.js?file=fiddle.html'></script>
<noscript><pre><code>&lt;div id=&quot;sample&quot; class=&quot;form-horizontal&quot;&gt;
    &lt;fieldset&gt;
        &lt;legend&gt;Your Name&lt;/legend&gt;
        &lt;div data-bind=&quot;validationCss: firstName&quot; class=&quot;control-group&quot;&gt;
            &lt;label for=&quot;firstName&quot; class=&quot;control-label&quot;&gt;First Name&lt;/label&gt;

            &lt;div class=&quot;controls&quot;&gt;
                &lt;input id=&quot;firstName&quot; type=&quot;text&quot; data-bind=&quot;validatedValue: firstName&quot;/&gt;

                &lt;div data-bind=&quot;validationMessageText: firstName&quot; class=&quot;help-block&quot;&gt;&lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;div data-bind=&quot;validationCss: surname&quot; class=&quot;control-group&quot;&gt;
            &lt;label for=&quot;surname&quot; class=&quot;control-label&quot;&gt;Surname&lt;/label&gt;

            &lt;div class=&quot;controls&quot;&gt;
                &lt;input id=&quot;surname&quot; type=&quot;text&quot; data-bind=&quot;validatedValue: surname&quot;/&gt;

                &lt;div data-bind=&quot;validationMessageText: surname&quot; class=&quot;help-block&quot;&gt;&lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/fieldset&gt;
    &lt;div class=&quot;form-actions&quot;&gt;
        &lt;button data-bind=&quot;click: submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;
        &lt;button data-bind=&quot;click: reset&quot; class=&quot;btn&quot;&gt;Reset&lt;/button&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre></noscript></div>


<h2>Javascript</h2>

<div><script src='https://gist.github.com/10f486045f8d532d84fa.js?file=fiddle.js'></script>
<noscript><pre><code>var viewModel = valerie.validatableModel({
    &quot;firstName&quot;: ko.observable()
            .validate()
            .string()
            .minimumLength(2)
            .required()
            .end(),
    &quot;surname&quot;: ko.observable()
            .validate()
            .string()
            .minimumLength(2)
            .required()
            .end(),
    &quot;submit&quot;: function () {
        viewModel.validation().touched(true);
    },
    &quot;reset&quot;: function () {
        viewModel.firstName(&quot;&quot;);
        viewModel.surname(&quot;&quot;);
        viewModel.validation().touched(false);
    }
})
        .validateAll()
        .end();

ko.bindingHandlers.validationCss.classNames.failed = &quot;error&quot;;
ko.bindingHandlers.validationCss.classNames.passed = &quot;success&quot;;

window.onload = function () {
    ko.applyBindings(viewModel, document.getElementById(&quot;sample&quot;));
}</code></pre></noscript></div>


<ul>
<li>Lines <strong>26 &ndash; 27</strong> override the default class-names for when validation fails
or passed</li>
</ul>


<h2>CSS</h2>

<div><script src='https://gist.github.com/10f486045f8d532d84fa.js?file=fiddle.css'></script>
<noscript><pre><code>.success .help-block {
    display: none;
}

.untouched,
.untouched input,
.untouched label,
.untouched select,
.untouched textarea {
    color: #333333 !important;
    border-color: #cccccc !important;
}

.untouched .help-block {
    display: none;
}</code></pre></noscript></div>


<ul>
<li>Lines <strong>1 &ndash; 3</strong> hide Bootstrap help-blocks for model properties where
validation has been successful</li>
<li>Lines <strong>5 &ndash; 12</strong> override the colour and border colour of form elements,
<em>neutralising</em> them if their model properties haven&rsquo;t been <em>touched</em></li>
<li>Lines <strong>14 &ndash; 16</strong> hide Bootstrap help-blocks for model properties which
haven&rsquo;t been <em>touched</em></li>
</ul>


<p>The sample can seen running
<a href="http://jsfiddle.net/gh/gist/knockout/2.2.1/10f486045f8d532d84fa/" title="Simple Form /w Bootstrap">here</a> â‡—.</p>
]]></content>
  </entry>
  
</feed>
