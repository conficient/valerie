<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: applicable | valerie]]></title>
  <link href="http://valerie.egrove.co.uk/blog/categories/applicable/atom.xml" rel="self"/>
  <link href="http://valerie.egrove.co.uk/"/>
  <updated>2013-07-19T16:44:57+01:00</updated>
  <id>http://valerie.egrove.co.uk/</id>
  <author>
    <name><![CDATA[egrove Ltd]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Order Form with Optionally Applicable Section (fluent) w/ Bootstrap]]></title>
    <link href="http://valerie.egrove.co.uk/blog/2013/07/07/order-form-applicable-section-with-bootstrap/"/>
    <updated>2013-07-07T14:09:00+01:00</updated>
    <id>http://valerie.egrove.co.uk/blog/2013/07/07/order-form-applicable-section-with-bootstrap</id>
    <content type="html"><![CDATA[<p>This code sample demonstrates <strong>valerie</strong> being used to validate an order form.</p>

<p>The <em>Shipping Address</em> section becomes inapplicable if the user checks the box
to use the billing address as the shipping address.</p>

<p>The <em>Submit</em> button has an indicator showing whether the current state of the
form is valid.</p>

<p>Bootstrap is used to style the form.</p>

<!-- more -->


<p>This sample can be seen running
<a href="http://jsfiddle.net/gh/gist/knockout/2.2.1/8b27a6ec3bc32c0f741d/" title="Order Form /w Optionally Applicable Section /w Bootstrap">here</a> ⇗.</p>

<h2>HTML</h2>

<p><div><script src='https://gist.github.com/8b27a6ec3bc32c0f741d.js?file=fiddle.html'></script>
<noscript><pre><code>&lt;div id=&quot;sample&quot; class=&quot;form-horizontal&quot;&gt;
    &lt;fieldset&gt;
        &lt;legend&gt;Order Details&lt;/legend&gt;
        &lt;fieldset&gt;
            &lt;label class=&quot;checkbox&quot;&gt;
                &lt;input name=&quot;shipToBillingAddress&quot; type=&quot;checkbox&quot; data-bind=&quot;checked: shipToBillingAddress&quot;/&gt;
                Ship to Billing Address
            &lt;/label&gt;
        &lt;/fieldset&gt;
        &lt;fieldset&gt;
            &lt;legend&gt;Billing Address&lt;/legend&gt;
            &lt;!-- ko template: { name: 'address-template', data: billingAddress } --&gt;&lt;!-- /ko --&gt;
            &lt;!-- ko template: { name: 'summary-template', data: billingAddress } --&gt;&lt;!-- /ko --&gt;
        &lt;/fieldset&gt;
        &lt;fieldset data-bind=&quot;visibleWhenApplicable: shippingAddress&quot;&gt;
            &lt;legend&gt;Shipping Address&lt;/legend&gt;
            &lt;!-- ko template: { name: 'address-template', data: shippingAddress } --&gt;&lt;!-- /ko --&gt;
            &lt;!-- ko template: { name: 'summary-template', data: shippingAddress } --&gt;&lt;!-- /ko --&gt;
        &lt;/fieldset&gt;
    &lt;/fieldset&gt;

    &lt;div class=&quot;form-actions&quot;&gt;
        &lt;button data-bind=&quot;click: submit&quot; class=&quot;btn btn-primary&quot;&gt;
            &lt;span data-bind=&quot;validationCss: true&quot;&gt;&lt;/span&gt;
            Submit
        &lt;/button&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;!-- Templates --&gt;
&lt;div style=&quot;display: none&quot;&gt;
    &lt;div id=&quot;summary-template&quot;&gt;
        &lt;ul data-bind=&quot;foreach: validation().summary(), visibleWhenSummaryNotEmpty: true&quot; class=&quot;alert alert-error&quot;&gt;
            &lt;li&gt;&lt;span data-bind=&quot;text: name&quot;&gt;&lt;/span&gt;: &lt;span data-bind=&quot;text: message&quot;&gt;&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/div&gt;

    &lt;div id=&quot;address-template&quot;&gt;
        &lt;div data-bind=&quot;validationCss: street&quot; class=&quot;control-group&quot;&gt;
            &lt;label for=&quot;street&quot; class=&quot;control-label&quot;&gt;Street&lt;/label&gt;

            &lt;div class=&quot;controls&quot;&gt;
                &lt;input id=&quot;street&quot; type=&quot;text&quot; data-bind=&quot;value: street&quot;/&gt;

                &lt;div data-bind=&quot;validationMessageText: street&quot; class=&quot;help-block&quot;&gt;&lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;div data-bind=&quot;validationCss: town&quot; class=&quot;control-group&quot;&gt;
            &lt;label for=&quot;town&quot; class=&quot;control-label&quot;&gt;Town&lt;/label&gt;

            &lt;div class=&quot;controls&quot;&gt;
                &lt;input id=&quot;town&quot; type=&quot;text&quot; data-bind=&quot;value: town&quot;/&gt;

                &lt;div data-bind=&quot;validationMessageText: town&quot; class=&quot;help-block&quot;&gt;&lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;div data-bind=&quot;validationCss: postcode&quot; class=&quot;control-group&quot;&gt;
            &lt;label for=&quot;postcode&quot; class=&quot;control-label&quot;&gt;Postcode&lt;/label&gt;

            &lt;div class=&quot;controls&quot;&gt;
                &lt;input id=&quot;postcode&quot; type=&quot;text&quot; data-bind=&quot;value: postcode&quot;/&gt;

                &lt;div data-bind=&quot;validationMessageText: postcode&quot; class=&quot;help-block&quot;&gt;&lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre></noscript></div>
</p>

<h2>Javascript</h2>

<p><div><script src='https://gist.github.com/8b27a6ec3bc32c0f741d.js?file=fiddle.js'></script>
<noscript><pre><code>function Address() {
    return valerie.validatableModel({
        &quot;street&quot;: ko.observable()
            .validate()
            .string()
            .name(&quot;Street&quot;)
            .required()
            .minimumLength(5)
            .end(),
        &quot;town&quot;: ko.observable()
            .validate()
            .string()
            .name(&quot;Town&quot;)
            .required()
            .minimumLength(2)
            .end(),
        &quot;postcode&quot;: ko.observable()
            .validate()
            .name(&quot;Postcode&quot;)
            .required()
            .postcode()
            .end()
    })
        .name(&quot;Contact&quot;)
        .validateChildProperties()
        .end();
}

function ViewModel() {
    var shipToBillingAddress = ko.observable(false)
            .validate()
            .name(&quot;Ship to Billing Address&quot;)
            .end(),
        self = valerie.validatableModel({
            &quot;shipToBillingAddress&quot;: shipToBillingAddress,
            &quot;billingAddress&quot;: new Address(),
            &quot;shippingAddress&quot;: new Address()
                .validation()
                .applicable(ko.computed(function () {
                    return !shipToBillingAddress();
                }))
                .end(),
            &quot;submit&quot;: function () {
                self.validation().touched(true);
                self.validation().updateSummary(true);
            }
        })
            .validateChildPropertiesAndSubModels()
            .end();

    return self;
}

var viewModel = new ViewModel();

ko.bindingHandlers.validationCss.classNames.failed = &quot;error&quot;;
ko.bindingHandlers.validationCss.classNames.passed = &quot;success&quot;;

valerie.koBindingsHelper.useValidatingBindingHandlers();

window.onload = function () {
    ko.applyBindings(viewModel, document.getElementById(&quot;sample&quot;));
};</code></pre></noscript></div>
</p>

<h2>CSS</h2>

<p><div><script src='https://gist.github.com/8b27a6ec3bc32c0f741d.js?file=fiddle.css'></script>
<noscript><pre><code>.success .help-block {
    display: none;
}
 
.untouched,
.untouched input,
.untouched label,
.untouched select,
.untouched textarea {
    color: #333333 !important;
    border-color: #cccccc !important;
}
 
.untouched .help-block {
    display: none;
}

ul.alert {
    margin: 0.5em 0 0.5em 0;
}

ul.alert li {
    list-style: none;
}

.form-actions button span:after {
    color: #fff;
    content: &quot;✘&quot;;
}

.form-actions button span.success:after {
    color: #fff;
    content: &quot;✔&quot;;
}</code></pre></noscript></div>
</p>
]]></content>
  </entry>
  
</feed>
