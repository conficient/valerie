<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: code-sample | valerie]]></title>
  <link href="http://egrove.github.io/valerie/blog/categories/code-sample/atom.xml" rel="self"/>
  <link href="http://egrove.github.io/valerie/"/>
  <updated>2013-07-06T15:16:46+01:00</updated>
  <id>http://egrove.github.io/valerie/</id>
  <author>
    <name><![CDATA[egrove Ltd]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Code Sample]]></title>
    <link href="http://egrove.github.io/valerie/blog/2013/07/05/code-sample/"/>
    <updated>2013-07-05T22:34:00+01:00</updated>
    <id>http://egrove.github.io/valerie/blog/2013/07/05/code-sample</id>
    <content type="html"><![CDATA[<p>This is a simple code sample.</p>

<p>It demonstrates <strong>valerie</strong> being used to validate a simple form.</p>

<p>```html</p>

<div class="form-horizontal sample">
    <fieldset>
        <legend>Your Name</legend>
        <div data-bind="validationCss: firstName" class="control-group">
            <label for="firstName" class="control-label">First Name</label>

            <div class="controls">
                <input id="firstName" type="text" data-bind="validatedValue: firstName"/>

                <div data-bind="validationMessageText: firstName" class="help-block"></div>
            </div>
        </div>
        <div data-bind="validationCss: surname" class="control-group">
            <label for="surname" class="control-label">Surname</label>

            <div class="controls">
                <input id="surname" type="text" data-bind="validatedValue: surname"/>

                <div data-bind="validationMessageText: surname" class="help-block"></div>
            </div>
        </div>
    </fieldset>
    <div class="form-actions">
        <button data-bind="click: submit" class="btn btn-primary">Submit</button>
        <button data-bind="click: reset" class="btn">Reset</button>
    </div>
</div>




<script type="text/javascript">
    function RunSample() {
        var viewModel = valerie.validatableModel({
            "firstName": ko.observable()
                .validate()
                .string()
                .minimumLength(2)
                .required()
                .end(),
            "surname": ko.observable()
                .validate()
                .string()
                .minimumLength(2)
                .required()
                .end(),
            "submit": function () {
                viewModel.validation().touched(true);
            },
            "reset": function () {
                viewModel.firstName("");
                viewModel.surname("");
                viewModel.validation().touched(false);
            }
        })
            .validateAll()
            .end();

        ko.bindingHandlers.validationCss.classNames.failed = "error";
        ko.bindingHandlers.validationCss.classNames.passed = "success";

        ko.applyBindings(viewModel, document.getElementById("sample"));

        return viewModel;
    }
</script>


<p>```</p>
]]></content>
  </entry>
  
</feed>
